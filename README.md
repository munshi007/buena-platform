# Buena Platform

**Buena Platform** is a modern, enterprise-grade Real Estate Portfolio Management System conceptualized to streamline the management of properties, buildings, and units. It leverages AI to provide actionable insights and automated summaries for portfolio managers.

> üé• **[Watch the Full Demo Walkthrough](https://www.loom.com/share/0c3407f5992043fd8f1e4de75a8c5fc8)**

## üöÄ Features

- **Portfolio Dashboard**: Real-time metrics for properties, units, and buildings.
- **Smart Property Creation**:
    - Multi-step wizard with **Auto-Save Drafts**.
    - **ü§ñ AI-Powered PDF Extraction**: Upload a "Teilungserkl√§rung" (German property deed) and automatically extract all units, addresses, and ownership shares using GPT-4.
    - **Excel-like Unit Editor**: Paste directly from spreadsheets to create hundreds of units instantly.
    - Robust validation with `zod` and nested building support.
- **Tenant & Lease CRM**:
    - Full tenant lifecycle management.
    - Create and track active leases linked to specific units.
    - Automatic **Occupancy Rate** and **Portfolio Value** calculations based on rent rolls.
- **Financial Intelligence**:
    - **Ledger System**: Track Revenue (Rent, Deposits) and Expenses (Maintenance, Tax).
    - **Real-time P&L**: Automatically calculated Net Profit metrics.
- **AI-Powered Reports**:
    - **Portfolio Intelligence**: One-click Executive Summaries generated by OpenAI.
    - Visual distribution charts for Asset Classes and Management Types.
- **Enterprise Design**:
    - Responsive, dark-mode ready UI built with HSL tokens.
    - **Hydration Safe**: Robust architecture preventing common SSR/Client mismatches.

## üõ†Ô∏è Technology Stack

**Monorepo Structure** (managed via `pnpm` workspaces):

- **Frontend (`apps/web`)**:
    - **Next.js 15** (App Router)
    - **TypeScript** & **CSS Modules** (Custom Design System)
    - **State Management**: `zustand` for complex wizard flows.
    - **Testing**: `Playwright` for E2E user journeys.
    - **API Integration**: `openapi-fetch` for type-safe API consumption.
- **Backend (`apps/api`)**:
    - **NestJS** (Modular Architecture)
    - **Prisma ORM** (PostgreSQL with relational integrity)
    - **OpenAI Integration**: 
        - **GPT-4 Turbo** for intelligent PDF parsing (Teilungserkl√§rung extraction)
        - **GPT-4o-mini** for portfolio summary generation
    - **Better-Sqlite3** (For fast local dev/testing if needed, though Postgres is primary)
    - **Testing**: `Jest` + `Supertest` for API E2E reliability.
- **Shared (`packages/shared`)**:
    - Single source of truth for **Enums**, **Interfaces**, and **Zod Schemas**.
    - Ensures contract alignment between Frontend and Backend (0ms latency sync).

## ‚ö° Getting Started

### Prerequisites

- Node.js (v18+)
- PNPM (`npm i -g pnpm`)
- Docker (for PostgreSQL)

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/munshi007/buena-platform.git
   cd buena-platform
   ```

2. **Install dependencies**
   ```bash
   pnpm install
   ```

3. **Environment Setup**
    - Copy `.env.example` to `.env` in `apps/api` and `apps/web`.
    - Ensure your `OPENAI_API_KEY` is set in `apps/api/.env`.

4. **Start Infrastructure**
   ```bash
   docker-compose up -d
   ```

5. **Database Migration**
   ```bash
   pnpm db:migrate
   ```

6. **Run Development Server**
   ```bash
   pnpm dev
   ```
   - Frontend: `http://localhost:3000`
   -  API / Swagger: `http://localhost:3333/api`

## üèóÔ∏è Architecture

The project follows a clean architecture pattern:
- **Web**: Server Components for data fetching, Client Components for interactivity.
- **API**: Modular services (Properties, Reports, Storage) with strict DTO validation.

## üìÑ License

Proprietary / Private.
